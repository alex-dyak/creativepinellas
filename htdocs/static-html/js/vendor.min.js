"use strict";function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}!function(a,b){"function"==typeof define&&define.amd?define(["jquery"],b):"object"==typeof exports?module.exports=b(require("jquery")):a.jcf=b(jQuery)}(this,function(a){var b="1.2.3",c=[],d={optionsKey:"jcf",dataKey:"jcf-instance",rtlClass:"jcf-rtl",focusClass:"jcf-focus",pressedClass:"jcf-pressed",disabledClass:"jcf-disabled",hiddenClass:"jcf-hidden",resetAppearanceClass:"jcf-reset-appearance",unselectableClass:"jcf-unselectable"},e="ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,f=/Windows Phone/.test(navigator.userAgent);d.isMobileDevice=!(!e&&!f);var g=function(){var b=a("<style>").appendTo("head"),c=b.prop("sheet")||b.prop("styleSheet"),e=function(a,b,d){d=d||0,c.insertRule?c.insertRule(a+"{"+b+"}",d):c.addRule(a,b,d)};e("."+d.hiddenClass,"position:absolute !important;left:-9999px !important;height:1px !important;width:1px !important;margin:0 !important;border-width:0 !important;-webkit-appearance:none;-moz-appearance:none;appearance:none"),e("."+d.rtlClass+" ."+d.hiddenClass,"right:-9999px !important; left: auto !important"),e("."+d.unselectableClass,"-webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; -webkit-tap-highlight-color: rgba(0,0,0,0);"),e("."+d.resetAppearanceClass,"background: none; border: none; -webkit-appearance: none; appearance: none; opacity: 0; filter: alpha(opacity=0);");var f=a("html"),g=a("body");"rtl"!==f.css("direction")&&"rtl"!==g.css("direction")||f.addClass(d.rtlClass),f.on("reset",function(){setTimeout(function(){i.refreshAll()},0)}),d.styleSheetCreated=!0};!function(){var b,c=navigator.pointerEnabled||navigator.msPointerEnabled,d="ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,e={},f="jcf-";b=c?{pointerover:navigator.pointerEnabled?"pointerover":"MSPointerOver",pointerdown:navigator.pointerEnabled?"pointerdown":"MSPointerDown",pointermove:navigator.pointerEnabled?"pointermove":"MSPointerMove",pointerup:navigator.pointerEnabled?"pointerup":"MSPointerUp"}:{pointerover:"mouseover",pointerdown:"mousedown"+(d?" touchstart":""),pointermove:"mousemove"+(d?" touchmove":""),pointerup:"mouseup"+(d?" touchend":"")},a.each(b,function(b,c){a.each(c.split(" "),function(a,c){e[c]=b})}),a.each(b,function(b,c){c=c.split(" "),a.event.special[f+b]={setup:function(){var b=this;a.each(c,function(a,c){b.addEventListener?b.addEventListener(c,i,!1):b["on"+c]=i})},teardown:function(){var b=this;a.each(c,function(a,c){b.addEventListener?b.removeEventListener(c,i,!1):b["on"+c]=null})}}});var g=null,h=function(a){var b=Math.abs(a.pageX-g.x),c=Math.abs(a.pageY-g.y),d=25;if(b<=d&&c<=d)return!0},i=function(b){var c=b||window.event,d=null,i=e[c.type];if(b=a.event.fix(c),b.type=f+i,c.pointerType)switch(c.pointerType){case 2:b.pointerType="touch";break;case 3:b.pointerType="pen";break;case 4:b.pointerType="mouse";break;default:b.pointerType=c.pointerType}else b.pointerType=c.type.substr(0,5);return b.pageX||b.pageY||(d=c.changedTouches?c.changedTouches[0]:c,b.pageX=d.pageX,b.pageY=d.pageY),"touchend"===c.type&&(g={x:b.pageX,y:b.pageY}),"mouse"===b.pointerType&&g&&h(b)?void 0:(a.event.dispatch||a.event.handle).call(this,b)}}(),function(){var b=("onwheel"in document||document.documentMode>=9?"wheel":"mousewheel DOMMouseScroll").split(" "),c="jcf-mousewheel";a.event.special[c]={setup:function(){var c=this;a.each(b,function(a,b){c.addEventListener?c.addEventListener(b,d,!1):c["on"+b]=d})},teardown:function(){var c=this;a.each(b,function(a,b){c.addEventListener?c.removeEventListener(b,d,!1):c["on"+b]=null})}};var d=function(b){var d=b||window.event;if(b=a.event.fix(d),b.type=c,"detail"in d&&(b.deltaY=-d.detail),"wheelDelta"in d&&(b.deltaY=-d.wheelDelta),"wheelDeltaY"in d&&(b.deltaY=-d.wheelDeltaY),"wheelDeltaX"in d&&(b.deltaX=-d.wheelDeltaX),"deltaY"in d&&(b.deltaY=d.deltaY),"deltaX"in d&&(b.deltaX=d.deltaX),b.delta=b.deltaY||b.deltaX,1===d.deltaMode){var e=16;b.delta*=e,b.deltaY*=e,b.deltaX*=e}return(a.event.dispatch||a.event.handle).call(this,b)}}();var h={fireNativeEvent:function(b,c){a(b).each(function(){var a,b=this;b.dispatchEvent?(a=document.createEvent("HTMLEvents"),a.initEvent(c,!0,!0),b.dispatchEvent(a)):document.createEventObject&&(a=document.createEventObject(),a.target=b,b.fireEvent("on"+c,a))})},bindHandlers:function(){var b=this;a.each(b,function(c,d){0===c.indexOf("on")&&a.isFunction(d)&&(b[c]=function(){return d.apply(b,arguments)})})}},i={version:b,modules:{},getOptions:function(){return a.extend({},d)},setOptions:function(b,c){arguments.length>1?this.modules[b]&&a.extend(this.modules[b].prototype.options,c):a.extend(d,b)},addModule:function(b){a.isFunction(b)&&(b=b(a,window));var e=function(b){b.element.data(d.dataKey)||b.element.data(d.dataKey,this),c.push(this),this.options=a.extend({},d,this.options,f(b.element),b),this.bindHandlers(),this.init.apply(this,arguments)},f=function(b){var c=b.data(d.optionsKey),e=b.attr(d.optionsKey);if(c)return c;if(e)try{return a.parseJSON(e)}catch(a){}};e.prototype=b,a.extend(b,h),b.plugins&&a.each(b.plugins,function(b,c){a.extend(c.prototype,h)});var g=e.prototype.destroy;e.prototype.destroy=function(){this.options.element.removeData(this.options.dataKey);for(var a=c.length-1;a>=0;a--)if(c[a]===this){c.splice(a,1);break}g&&g.apply(this,arguments)},this.modules[b.name]=e},getInstance:function(b){return a(b).data(d.dataKey)},replace:function(b,c,e){var f,h=this;return d.styleSheetCreated||g(),a(b).each(function(){var b,g=a(this);f=g.data(d.dataKey),f?f.refresh():(c||a.each(h.modules,function(a,b){if(b.prototype.matchElement.call(b.prototype,g))return c=a,!1}),c&&(b=a.extend({element:g},e),f=new h.modules[c](b)))}),f},refresh:function(b){a(b).each(function(){var b=a(this).data(d.dataKey);b&&b.refresh()})},destroy:function(b){a(b).each(function(){var b=a(this).data(d.dataKey);b&&b.destroy()})},replaceAll:function(b){var c=this;a.each(this.modules,function(d,e){a(e.prototype.selector,b).each(function(){this.className.indexOf("jcf-ignore")<0&&c.replace(this,d)})})},refreshAll:function(b){if(b)a.each(this.modules,function(c,e){a(e.prototype.selector,b).each(function(){var b=a(this).data(d.dataKey);b&&b.refresh()})});else for(var e=c.length-1;e>=0;e--)c[e].refresh()},destroyAll:function(b){if(b)a.each(this.modules,function(c,e){a(e.prototype.selector,b).each(function(b,c){var e=a(c).data(d.dataKey);e&&e.destroy()})});else for(;c.length;)c[0].destroy()}};return"function"==typeof define&&define.amd&&(window.jcf=i),i}),function(a){a.addModule(function(b,c){function d(a){this.options=b.extend({wrapNative:!0,wrapNativeOnMobile:!0,fakeDropInBody:!0,useCustomScroll:!0,flipDropToFit:!0,maxVisibleItems:10,fakeAreaStructure:'<span class="jcf-select"><span class="jcf-select-text"></span><span class="jcf-select-opener"></span></span>',fakeDropStructure:'<div class="jcf-select-drop"><div class="jcf-select-drop-content"></div></div>',optionClassPrefix:"jcf-option-",selectClassPrefix:"jcf-select-",dropContentSelector:".jcf-select-drop-content",selectTextSelector:".jcf-select-text",dropActiveClass:"jcf-drop-active",flipDropClass:"jcf-drop-flipped"},a),this.init()}function e(a){this.options=b.extend({wrapNative:!0,useCustomScroll:!0,fakeStructure:'<span class="jcf-list-box"><span class="jcf-list-wrapper"></span></span>',selectClassPrefix:"jcf-select-",listHolder:".jcf-list-wrapper"},a),this.init()}function f(a){this.options=b.extend({holder:null,maxVisibleItems:10,selectOnClick:!0,useHoverClass:!1,useCustomScroll:!1,handleResize:!0,multipleSelectWithoutKey:!1,alwaysPreventMouseWheel:!1,indexAttribute:"data-index",cloneClassPrefix:"jcf-option-",containerStructure:'<span class="jcf-list"><span class="jcf-list-content"></span></span>',containerSelector:".jcf-list-content",captionClass:"jcf-optgroup-caption",disabledClass:"jcf-disabled",optionClass:"jcf-option",groupClass:"jcf-optgroup",hoverClass:"jcf-hover",selectedClass:"jcf-selected",scrollClass:"jcf-scroll-active"},a),this.init()}var g={name:"Select",selector:"select",options:{element:null,multipleCompactStyle:!1},plugins:{ListBox:e,ComboBox:d,SelectList:f},matchElement:function(a){return a.is("select")},init:function(){this.element=b(this.options.element),this.createInstance()},isListBox:function(){return this.element.is("[size]:not([jcf-size]), [multiple]")},createInstance:function(){this.instance&&this.instance.destroy(),this.isListBox()&&!this.options.multipleCompactStyle?this.instance=new e(this.options):this.instance=new d(this.options)},refresh:function(){var a=this.isListBox()&&this.instance instanceof d||!this.isListBox()&&this.instance instanceof e;a?this.createInstance():this.instance.refresh()},destroy:function(){this.instance.destroy()}};b.extend(d.prototype,{init:function(){this.initStructure(),this.bindHandlers(),this.attachEvents(),this.refresh()},initStructure:function(){this.win=b(c),this.doc=b(document),this.realElement=b(this.options.element),this.fakeElement=b(this.options.fakeAreaStructure).insertAfter(this.realElement),this.selectTextContainer=this.fakeElement.find(this.options.selectTextSelector),this.selectText=b("<span></span>").appendTo(this.selectTextContainer),i(this.fakeElement),this.fakeElement.addClass(h(this.realElement.prop("className"),this.options.selectClassPrefix)),this.realElement.prop("multiple")&&this.fakeElement.addClass("jcf-compact-multiple"),this.options.isMobileDevice&&this.options.wrapNativeOnMobile&&!this.options.wrapNative&&(this.options.wrapNative=!0),this.options.wrapNative?this.realElement.prependTo(this.fakeElement).css({position:"absolute",height:"100%",width:"100%"}).addClass(this.options.resetAppearanceClass):(this.realElement.addClass(this.options.hiddenClass),this.fakeElement.attr("title",this.realElement.attr("title")),this.fakeDropTarget=this.options.fakeDropInBody?b("body"):this.fakeElement)},attachEvents:function(){var a=this;this.delayedRefresh=function(){setTimeout(function(){a.refresh(),a.list&&(a.list.refresh(),a.list.scrollToActiveOption())},1)},this.options.wrapNative?this.realElement.on({focus:this.onFocus,change:this.onChange,click:this.onChange,keydown:this.delayedRefresh}):(this.realElement.on({focus:this.onFocus,change:this.onChange,keydown:this.onKeyDown}),this.fakeElement.on({"jcf-pointerdown":this.onSelectAreaPress}))},onKeyDown:function(a){13===a.which?this.toggleDropdown():this.dropActive&&this.delayedRefresh()},onChange:function(){this.refresh()},onFocus:function(){this.pressedFlag&&this.focusedFlag||(this.fakeElement.addClass(this.options.focusClass),this.realElement.on("blur",this.onBlur),this.toggleListMode(!0),this.focusedFlag=!0)},onBlur:function(){this.pressedFlag||(this.fakeElement.removeClass(this.options.focusClass),this.realElement.off("blur",this.onBlur),this.toggleListMode(!1),this.focusedFlag=!1)},onResize:function(){this.dropActive&&this.hideDropdown()},onSelectDropPress:function(){this.pressedFlag=!0},onSelectDropRelease:function(a,b){this.pressedFlag=!1,"mouse"===b.pointerType&&this.realElement.focus()},onSelectAreaPress:function(a){var c=!this.options.fakeDropInBody&&b(a.target).closest(this.dropdown).length;c||a.button>1||this.realElement.is(":disabled")||(this.selectOpenedByEvent=a.pointerType,this.toggleDropdown(),this.focusedFlag||("mouse"===a.pointerType?this.realElement.focus():this.onFocus(a)),this.pressedFlag=!0,this.fakeElement.addClass(this.options.pressedClass),this.doc.on("jcf-pointerup",this.onSelectAreaRelease))},onSelectAreaRelease:function(a){this.focusedFlag&&"mouse"===a.pointerType&&this.realElement.focus(),this.pressedFlag=!1,this.fakeElement.removeClass(this.options.pressedClass),this.doc.off("jcf-pointerup",this.onSelectAreaRelease)},onOutsideClick:function(a){var c=b(a.target),d=c.closest(this.fakeElement).length||c.closest(this.dropdown).length;d||this.hideDropdown()},onSelect:function(){this.refresh(),this.realElement.prop("multiple")?this.repositionDropdown():this.hideDropdown(),this.fireNativeEvent(this.realElement,"change")},toggleListMode:function(a){this.options.wrapNative||(a?this.realElement.attr({size:4,"jcf-size":""}):this.options.wrapNative||this.realElement.removeAttr("size jcf-size"))},createDropdown:function(){this.dropdown&&(this.list.destroy(),this.dropdown.remove()),this.dropdown=b(this.options.fakeDropStructure).appendTo(this.fakeDropTarget),this.dropdown.addClass(h(this.realElement.prop("className"),this.options.selectClassPrefix)),i(this.dropdown),this.realElement.prop("multiple")&&this.dropdown.addClass("jcf-compact-multiple"),this.options.fakeDropInBody&&this.dropdown.css({position:"absolute",top:-9999}),this.list=new f({useHoverClass:!0,handleResize:!1,alwaysPreventMouseWheel:!0,maxVisibleItems:this.options.maxVisibleItems,useCustomScroll:this.options.useCustomScroll,holder:this.dropdown.find(this.options.dropContentSelector),multipleSelectWithoutKey:this.realElement.prop("multiple"),element:this.realElement}),b(this.list).on({select:this.onSelect,press:this.onSelectDropPress,release:this.onSelectDropRelease})},repositionDropdown:function(){var a,b,c,d=this.fakeElement.offset(),e=this.fakeElement[0].getBoundingClientRect(),f=e.width||e.right-e.left,g=this.fakeElement.outerHeight(),h=this.dropdown.css("width",f).outerHeight(),i=this.win.scrollTop(),j=this.win.height(),k=!1;d.top+g+h>i+j&&d.top-h>i&&(k=!0),this.options.fakeDropInBody&&(c="static"!==this.fakeDropTarget.css("position")?this.fakeDropTarget.offset().top:0,this.options.flipDropToFit&&k?(b=d.left,a=d.top-h-c):(b=d.left,a=d.top+g-c),this.dropdown.css({width:f,left:b,top:a})),this.dropdown.add(this.fakeElement).toggleClass(this.options.flipDropClass,this.options.flipDropToFit&&k)},showDropdown:function(){this.realElement.prop("options").length&&(this.dropdown||this.createDropdown(),this.dropActive=!0,this.dropdown.appendTo(this.fakeDropTarget),this.fakeElement.addClass(this.options.dropActiveClass),this.refreshSelectedText(),this.repositionDropdown(),this.list.setScrollTop(this.savedScrollTop),this.list.refresh(),this.win.on("resize",this.onResize),this.doc.on("jcf-pointerdown",this.onOutsideClick))},hideDropdown:function(){this.dropdown&&(this.savedScrollTop=this.list.getScrollTop(),this.fakeElement.removeClass(this.options.dropActiveClass+" "+this.options.flipDropClass),this.dropdown.removeClass(this.options.flipDropClass).detach(),this.doc.off("jcf-pointerdown",this.onOutsideClick),this.win.off("resize",this.onResize),this.dropActive=!1,"touch"===this.selectOpenedByEvent&&this.onBlur())},toggleDropdown:function(){this.dropActive?this.hideDropdown():this.showDropdown()},refreshSelectedText:function(){var a,c=this.realElement.prop("selectedIndex"),d=this.realElement.prop("options")[c],e=d?d.getAttribute("data-image"):null,f="",g=this;this.realElement.prop("multiple")?(b.each(this.realElement.prop("options"),function(a,b){b.selected&&(f+=(f?", ":"")+b.innerHTML)}),f||(f=g.realElement.attr("placeholder")||""),this.selectText.removeAttr("class").html(f)):d?this.currentSelectedText===d.innerHTML&&this.currentSelectedImage===e||(a=h(d.className,this.options.optionClassPrefix),this.selectText.attr("class",a).html(d.innerHTML),e?(this.selectImage||(this.selectImage=b("<img>").prependTo(this.selectTextContainer).hide()),this.selectImage.attr("src",e).show()):this.selectImage&&this.selectImage.hide(),this.currentSelectedText=d.innerHTML,this.currentSelectedImage=e):(this.selectImage&&this.selectImage.hide(),this.selectText.removeAttr("class").empty())},refresh:function(){"none"===this.realElement.prop("style").display?this.fakeElement.hide():this.fakeElement.show(),this.refreshSelectedText(),this.fakeElement.toggleClass(this.options.disabledClass,this.realElement.is(":disabled"))},destroy:function(){this.options.wrapNative?this.realElement.insertBefore(this.fakeElement).css({position:"",height:"",width:""}).removeClass(this.options.resetAppearanceClass):(this.realElement.removeClass(this.options.hiddenClass),this.realElement.is("[jcf-size]")&&this.realElement.removeAttr("size jcf-size")),this.fakeElement.remove(),this.doc.off("jcf-pointerup",this.onSelectAreaRelease),this.realElement.off({focus:this.onFocus})}}),b.extend(e.prototype,{init:function(){this.bindHandlers(),this.initStructure(),this.attachEvents()},initStructure:function(){this.realElement=b(this.options.element),this.fakeElement=b(this.options.fakeStructure).insertAfter(this.realElement),this.listHolder=this.fakeElement.find(this.options.listHolder),i(this.fakeElement),this.fakeElement.addClass(h(this.realElement.prop("className"),this.options.selectClassPrefix)),this.realElement.addClass(this.options.hiddenClass),this.list=new f({useCustomScroll:this.options.useCustomScroll,holder:this.listHolder,selectOnClick:!1,element:this.realElement})},attachEvents:function(){var a=this;this.delayedRefresh=function(b){b&&(16===b.which||b.ctrlKey||b.metaKey||b.altKey)||(clearTimeout(a.refreshTimer),a.refreshTimer=setTimeout(function(){a.refresh(),a.list.scrollToActiveOption()},1))},this.realElement.on({focus:this.onFocus,click:this.delayedRefresh,keydown:this.delayedRefresh}),b(this.list).on({select:this.onSelect,press:this.onFakeOptionsPress,release:this.onFakeOptionsRelease})},onFakeOptionsPress:function(a,b){this.pressedFlag=!0,"mouse"===b.pointerType&&this.realElement.focus()},onFakeOptionsRelease:function(a,b){this.pressedFlag=!1,"mouse"===b.pointerType&&this.realElement.focus()},onSelect:function(){this.fireNativeEvent(this.realElement,"change"),this.fireNativeEvent(this.realElement,"click")},onFocus:function(){this.pressedFlag&&this.focusedFlag||(this.fakeElement.addClass(this.options.focusClass),this.realElement.on("blur",this.onBlur),this.focusedFlag=!0)},onBlur:function(){this.pressedFlag||(this.fakeElement.removeClass(this.options.focusClass),this.realElement.off("blur",this.onBlur),this.focusedFlag=!1)},refresh:function(){this.fakeElement.toggleClass(this.options.disabledClass,this.realElement.is(":disabled")),this.list.refresh()},destroy:function(){this.list.destroy(),this.realElement.insertBefore(this.fakeElement).removeClass(this.options.hiddenClass),this.fakeElement.remove()}}),b.extend(f.prototype,{init:function(){this.initStructure(),this.refreshSelectedClass(),this.attachEvents()},initStructure:function(){this.element=b(this.options.element),this.indexSelector="["+this.options.indexAttribute+"]",this.container=b(this.options.containerStructure).appendTo(this.options.holder),this.listHolder=this.container.find(this.options.containerSelector),this.lastClickedIndex=this.element.prop("selectedIndex"),this.rebuildList(),this.element.prop("multiple")&&(this.previousSelection=this.getSelectedOptionsIndexes())},attachEvents:function(){this.bindHandlers(),this.listHolder.on("jcf-pointerdown",this.indexSelector,this.onItemPress),this.listHolder.on("jcf-pointerdown",this.onPress),this.options.useHoverClass&&this.listHolder.on("jcf-pointerover",this.indexSelector,this.onHoverItem)},onPress:function(a){b(this).trigger("press",a),this.listHolder.on("jcf-pointerup",this.onRelease)},onRelease:function(a){b(this).trigger("release",a),this.listHolder.off("jcf-pointerup",this.onRelease)},onHoverItem:function(a){var b=parseFloat(a.currentTarget.getAttribute(this.options.indexAttribute));this.fakeOptions.removeClass(this.options.hoverClass).eq(b).addClass(this.options.hoverClass)},onItemPress:function(a){"touch"===a.pointerType||this.options.selectOnClick?(this.tmpListOffsetTop=this.list.offset().top,this.listHolder.on("jcf-pointerup",this.indexSelector,this.onItemRelease)):this.onSelectItem(a)},onItemRelease:function(a){this.listHolder.off("jcf-pointerup",this.indexSelector,this.onItemRelease),this.tmpListOffsetTop===this.list.offset().top&&this.listHolder.on("click",this.indexSelector,{savedPointerType:a.pointerType},this.onSelectItem),delete this.tmpListOffsetTop},onSelectItem:function(a){var c,d=parseFloat(a.currentTarget.getAttribute(this.options.indexAttribute)),e=a.data&&a.data.savedPointerType||a.pointerType||"mouse";this.listHolder.off("click",this.indexSelector,this.onSelectItem),a.button>1||this.realOptions[d].disabled||(this.element.prop("multiple")?a.metaKey||a.ctrlKey||"touch"===e||this.options.multipleSelectWithoutKey?this.realOptions[d].selected=!this.realOptions[d].selected:a.shiftKey?(c=[this.lastClickedIndex,d].sort(function(a,b){return a-b}),this.realOptions.each(function(a,b){b.selected=a>=c[0]&&a<=c[1]})):this.element.prop("selectedIndex",d):this.element.prop("selectedIndex",d),a.shiftKey||(this.lastClickedIndex=d),this.refreshSelectedClass(),"mouse"===e&&this.scrollToActiveOption(),b(this).trigger("select"))},rebuildList:function(){var c=this,d=this.element[0];this.storedSelectHTML=d.innerHTML,this.optionIndex=0,this.list=b(this.createOptionsList(d)),this.listHolder.empty().append(this.list),this.realOptions=this.element.find("option"),this.fakeOptions=this.list.find(this.indexSelector),this.fakeListItems=this.list.find("."+this.options.captionClass+","+this.indexSelector),delete this.optionIndex;var e=this.options.maxVisibleItems,f=this.element.prop("size");f>1&&!this.element.is("[jcf-size]")&&(e=f);var g=this.fakeOptions.length>e;return this.container.toggleClass(this.options.scrollClass,g),g&&(this.listHolder.css({maxHeight:this.getOverflowHeight(e),overflow:"auto"}),this.options.useCustomScroll&&a.modules.Scrollable)?void a.replace(this.listHolder,"Scrollable",{handleResize:this.options.handleResize,alwaysPreventMouseWheel:this.options.alwaysPreventMouseWheel}):void(this.options.alwaysPreventMouseWheel&&(this.preventWheelHandler=function(a){var b=c.listHolder.scrollTop(),d=c.listHolder.prop("scrollHeight")-c.listHolder.innerHeight();(b<=0&&a.deltaY<0||b>=d&&a.deltaY>0)&&a.preventDefault()},this.listHolder.on("jcf-mousewheel",this.preventWheelHandler)))},refreshSelectedClass:function(){var a,b=this,c=this.element.prop("multiple"),d=this.element.prop("selectedIndex");c?this.realOptions.each(function(a,c){b.fakeOptions.eq(a).toggleClass(b.options.selectedClass,!!c.selected)}):(this.fakeOptions.removeClass(this.options.selectedClass+" "+this.options.hoverClass),a=this.fakeOptions.eq(d).addClass(this.options.selectedClass),this.options.useHoverClass&&a.addClass(this.options.hoverClass))},scrollToActiveOption:function(){var a=this.getActiveOptionOffset();"number"==typeof a&&this.listHolder.prop("scrollTop",a)},getSelectedOptionsIndexes:function(){var a=[];return this.realOptions.each(function(b,c){c.selected&&a.push(b)}),a},getChangedSelectedIndex:function(){var a=this.element.prop("selectedIndex"),c=this,d=!1,e=null;return this.element.prop("multiple")?(this.currentSelection=this.getSelectedOptionsIndexes(),b.each(this.currentSelection,function(a,b){!d&&c.previousSelection.indexOf(b)<0&&(0===a&&(d=!0),e=b)}),this.previousSelection=this.currentSelection,e):a},getActiveOptionOffset:function(){var a=this.getChangedSelectedIndex();if(null!==a){var b=this.listHolder.height(),c=this.listHolder.prop("scrollTop"),d=this.fakeOptions.eq(a),e=d.offset().top-this.list.offset().top,f=d.innerHeight();return e+f>=c+b?e-b+f:e<c?e:void 0}},getOverflowHeight:function(a){var b=this.fakeListItems.eq(a-1),c=this.list.offset().top,d=b.offset().top,e=b.innerHeight();return d+e-c},getScrollTop:function(){return this.listHolder.scrollTop()},setScrollTop:function(a){this.listHolder.scrollTop(a)},createOption:function(a){var b=document.createElement("span");b.className=this.options.optionClass,b.innerHTML=a.innerHTML,b.setAttribute(this.options.indexAttribute,this.optionIndex++);var c,d=a.getAttribute("data-image");return d&&(c=document.createElement("img"),c.src=d,b.insertBefore(c,b.childNodes[0])),a.disabled&&(b.className+=" "+this.options.disabledClass),a.className&&(b.className+=" "+h(a.className,this.options.cloneClassPrefix)),b},createOptGroup:function(a){var b,c,d=document.createElement("span"),e=a.getAttribute("label");return b=document.createElement("span"),b.className=this.options.captionClass,b.innerHTML=e,d.appendChild(b),a.children.length&&(c=this.createOptionsList(a),d.appendChild(c)),d.className=this.options.groupClass,d},createOptionContainer:function(){var a=document.createElement("li");return a},createOptionsList:function(a){var c=this,d=document.createElement("ul");return b.each(a.children,function(a,b){var e,f=c.createOptionContainer(b);switch(b.tagName.toLowerCase()){case"option":e=c.createOption(b);break;case"optgroup":e=c.createOptGroup(b)}d.appendChild(f).appendChild(e)}),d},refresh:function(){this.storedSelectHTML!==this.element.prop("innerHTML")&&this.rebuildList();var b=a.getInstance(this.listHolder);b&&b.refresh(),this.refreshSelectedClass()},destroy:function(){this.listHolder.off("jcf-mousewheel",this.preventWheelHandler),this.listHolder.off("jcf-pointerdown",this.indexSelector,this.onSelectItem),this.listHolder.off("jcf-pointerover",this.indexSelector,this.onHoverItem),this.listHolder.off("jcf-pointerdown",this.onPress)}});var h=function(a,b){return a?a.replace(/[\s]*([\S]+)+[\s]*/gi,b+"$1 "):""},i=function(){function b(a){a.preventDefault()}var c=a.getOptions().unselectableClass;return function(a){a.addClass(c).on("selectstart",b)}}();return g})}(jcf);var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol?"symbol":typeof a};!function(a){function b(a){if(void 0===Function.prototype.name){var b=/function\s([^(]{1,})\(/,c=b.exec(a.toString());return c&&c.length>1?c[1].trim():""}return void 0===a.prototype?a.constructor.name:a.prototype.constructor.name}function c(a){return!!/true/.test(a)||!/false/.test(a)&&(isNaN(1*a)?a:parseFloat(a))}function d(a){return a.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}var e="6.2.2",f={version:e,_plugins:{},_uuids:[],rtl:function(){return"rtl"===a("html").attr("dir")},plugin:function(a,c){var e=c||b(a),f=d(e);this._plugins[f]=this[e]=a},registerPlugin:function(a,c){var e=c?d(c):b(a.constructor).toLowerCase();a.uuid=this.GetYoDigits(6,e),a.$element.attr("data-"+e)||a.$element.attr("data-"+e,a.uuid),a.$element.data("zfPlugin")||a.$element.data("zfPlugin",a),a.$element.trigger("init.zf."+e),this._uuids.push(a.uuid)},unregisterPlugin:function(a){var c=d(b(a.$element.data("zfPlugin").constructor));this._uuids.splice(this._uuids.indexOf(a.uuid),1),a.$element.removeAttr("data-"+c).removeData("zfPlugin").trigger("destroyed.zf."+c);for(var e in a)a[e]=null},reInit:function(b){var c=b instanceof a;try{if(c)b.each(function(){a(this).data("zfPlugin")._init()});else{var e="undefined"==typeof b?"undefined":_typeof(b),f=this,g={object:function(b){b.forEach(function(b){b=d(b),a("[data-"+b+"]").foundation("_init")})},string:function(){b=d(b),a("[data-"+b+"]").foundation("_init")},undefined:function(){this.object(Object.keys(f._plugins))}};g[e](b)}}catch(a){console.error(a)}finally{return b}},GetYoDigits:function(a,b){return a=a||6,Math.round(Math.pow(36,a+1)-Math.random()*Math.pow(36,a)).toString(36).slice(1)+(b?"-"+b:"")},reflow:function(b,d){"undefined"==typeof d?d=Object.keys(this._plugins):"string"==typeof d&&(d=[d]);var e=this;a.each(d,function(d,f){var g=e._plugins[f],h=a(b).find("[data-"+f+"]").addBack("[data-"+f+"]");h.each(function(){var b=a(this),d={};if(b.data("zfPlugin"))return void console.warn("Tried to initialize "+f+" on an element that already has a Foundation plugin.");if(b.attr("data-options")){b.attr("data-options").split(";").forEach(function(a,b){var e=a.split(":").map(function(a){return a.trim()});e[0]&&(d[e[0]]=c(e[1]))})}try{b.data("zfPlugin",new g(a(this),d))}catch(a){console.error(a)}finally{return}})})},getFnName:b,transitionend:function(a){var b,c={transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend"},d=document.createElement("div");for(var e in c)"undefined"!=typeof d.style[e]&&(b=c[e]);return b?b:(b=setTimeout(function(){a.triggerHandler("transitionend",[a])},1),"transitionend")}};f.util={throttle:function(a,b){var c=null;return function(){var d=this,e=arguments;null===c&&(c=setTimeout(function(){a.apply(d,e),c=null},b))}}};var g=function(c){var d="undefined"==typeof c?"undefined":_typeof(c),e=a("meta.foundation-mq"),g=a(".no-js");if(e.length||a('<meta class="foundation-mq">').appendTo(document.head),g.length&&g.removeClass("no-js"),"undefined"===d)f.MediaQuery._init(),f.reflow(this);else{if("string"!==d)throw new TypeError("We're sorry, "+d+" is not a valid parameter. You must use a string representing the method you wish to invoke.");var h=Array.prototype.slice.call(arguments,1),i=this.data("zfPlugin");if(void 0===i||void 0===i[c])throw new ReferenceError("We're sorry, '"+c+"' is not an available method for "+(i?b(i):"this element")+".");1===this.length?i[c].apply(i,h):this.each(function(b,d){i[c].apply(a(d).data("zfPlugin"),h)})}return this};window.Foundation=f,a.fn.foundation=g,function(){Date.now&&window.Date.now||(window.Date.now=Date.now=function(){return(new Date).getTime()});for(var a=["webkit","moz"],b=0;b<a.length&&!window.requestAnimationFrame;++b){var c=a[b];window.requestAnimationFrame=window[c+"RequestAnimationFrame"],window.cancelAnimationFrame=window[c+"CancelAnimationFrame"]||window[c+"CancelRequestAnimationFrame"]}if(/iP(ad|hone|od).*OS 6/.test(window.navigator.userAgent)||!window.requestAnimationFrame||!window.cancelAnimationFrame){var d=0;window.requestAnimationFrame=function(a){var b=Date.now(),c=Math.max(d+16,b);return setTimeout(function(){a(d=c)},c-b)},window.cancelAnimationFrame=clearTimeout}window.performance&&window.performance.now||(window.performance={start:Date.now(),now:function(){return Date.now()-this.start}})}(),Function.prototype.bind||(Function.prototype.bind=function(a){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var b=Array.prototype.slice.call(arguments,1),c=this,d=function(){},e=function(){return c.apply(this instanceof d?this:a,b.concat(Array.prototype.slice.call(arguments)))};return this.prototype&&(d.prototype=this.prototype),e.prototype=new d,e})}(jQuery);var _createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();!function(a){var b=function(){function b(c,d){_classCallCheck(this,b),this.$element=c,this.options=a.extend({},b.defaults,this.$element.data(),d),this.$lastTrigger=a(),this.$triggers=a(),this._init(),this._events(),Foundation.registerPlugin(this,"OffCanvas")}return _createClass(b,[{key:"_init",value:function(){var b=this.$element.attr("id");if(this.$element.attr("aria-hidden","true"),this.$triggers=a(document).find('[data-open="'+b+'"], [data-close="'+b+'"], [data-toggle="'+b+'"]').attr("aria-expanded","false").attr("aria-controls",b),this.options.closeOnClick)if(a(".js-off-canvas-exit").length)this.$exiter=a(".js-off-canvas-exit");else{var c=document.createElement("div");c.setAttribute("class","js-off-canvas-exit"),a("[data-off-canvas-content]").append(c),this.$exiter=a(c)}this.options.isRevealed=this.options.isRevealed||new RegExp(this.options.revealClass,"g").test(this.$element[0].className),this.options.isRevealed&&(this.options.revealOn=this.options.revealOn||this.$element[0].className.match(/(reveal-for-medium|reveal-for-large)/g)[0].split("-")[2],this._setMQChecker()),this.options.transitionTime||(this.options.transitionTime=1e3*parseFloat(window.getComputedStyle(a("[data-off-canvas-wrapper]")[0]).transitionDuration))}},{key:"_events",value:function(){this.$element.off(".zf.trigger .zf.offcanvas").on({"open.zf.trigger":this.open.bind(this),"close.zf.trigger":this.close.bind(this),"toggle.zf.trigger":this.toggle.bind(this),"keydown.zf.offcanvas":this._handleKeyboard.bind(this)}),this.options.closeOnClick&&this.$exiter.length&&this.$exiter.on({
"click.zf.offcanvas":this.close.bind(this)})}},{key:"_setMQChecker",value:function(){var b=this;a(window).on("changed.zf.mediaquery",function(){Foundation.MediaQuery.atLeast(b.options.revealOn)?b.reveal(!0):b.reveal(!1)}).one("load.zf.offcanvas",function(){Foundation.MediaQuery.atLeast(b.options.revealOn)&&b.reveal(!0)})}},{key:"reveal",value:function(a){var b=this.$element.find("[data-close]");a?(this.close(),this.isRevealed=!0,this.$element.off("open.zf.trigger toggle.zf.trigger"),b.length&&b.hide()):(this.isRevealed=!1,this.$element.on({"open.zf.trigger":this.open.bind(this),"toggle.zf.trigger":this.toggle.bind(this)}),b.length&&b.show())}},{key:"open",value:function(b,c){if(!this.$element.hasClass("is-open")&&!this.isRevealed){var d=this;a(document.body);this.options.forceTop&&a("body").scrollTop(0),Foundation.Move(this.options.transitionTime,this.$element,function(){a("[data-off-canvas-wrapper]").addClass("is-off-canvas-open is-open-"+d.options.position),d.$element.addClass("is-open")}),this.$triggers.attr("aria-expanded","true"),this.$element.attr("aria-hidden","false").trigger("opened.zf.offcanvas"),this.options.closeOnClick&&this.$exiter.addClass("is-visible"),c&&(this.$lastTrigger=c),this.options.autoFocus&&this.$element.one(Foundation.transitionend(this.$element),function(){d.$element.find("a, button").eq(0).focus()}),this.options.trapFocus&&(a("[data-off-canvas-content]").attr("tabindex","-1"),this._trapFocus())}}},{key:"_trapFocus",value:function(){var a=Foundation.Keyboard.findFocusable(this.$element),b=a.eq(0),c=a.eq(-1);a.off(".zf.offcanvas").on("keydown.zf.offcanvas",function(a){9!==a.which&&9!==a.keycode||(a.target!==c[0]||a.shiftKey||(a.preventDefault(),b.focus()),a.target===b[0]&&a.shiftKey&&(a.preventDefault(),c.focus()))})}},{key:"close",value:function(b){if(this.$element.hasClass("is-open")&&!this.isRevealed){var c=this;a("[data-off-canvas-wrapper]").removeClass("is-off-canvas-open is-open-"+c.options.position),c.$element.removeClass("is-open"),this.$element.attr("aria-hidden","true").trigger("closed.zf.offcanvas"),this.options.closeOnClick&&this.$exiter.removeClass("is-visible"),this.$triggers.attr("aria-expanded","false"),this.options.trapFocus&&a("[data-off-canvas-content]").removeAttr("tabindex")}}},{key:"toggle",value:function(a,b){this.$element.hasClass("is-open")?this.close(a,b):this.open(a,b)}},{key:"_handleKeyboard",value:function(a){27===a.which&&(a.stopPropagation(),a.preventDefault(),this.close(),this.$lastTrigger.focus())}},{key:"destroy",value:function(){this.close(),this.$element.off(".zf.trigger .zf.offcanvas"),this.$exiter.off(".zf.offcanvas"),Foundation.unregisterPlugin(this)}}]),b}();b.defaults={closeOnClick:!0,transitionTime:0,position:"left",forceTop:!0,isRevealed:!1,revealOn:null,autoFocus:!0,revealClass:"reveal-for-",trapFocus:!1},Foundation.plugin(b,"OffCanvas")}(jQuery);var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol?"symbol":typeof a};!function(a){function b(a){var b={};return"string"!=typeof a?b:(a=a.trim().slice(1,-1))?b=a.split("&").reduce(function(a,b){var c=b.replace(/\+/g," ").split("="),d=c[0],e=c[1];return d=decodeURIComponent(d),e=void 0===e?null:decodeURIComponent(e),a.hasOwnProperty(d)?Array.isArray(a[d])?a[d].push(e):a[d]=[a[d],e]:a[d]=e,a},{}):b}var c={queries:[],current:"",_init:function(){var c,d=this,e=a(".foundation-mq").css("font-family");c=b(e);for(var f in c)c.hasOwnProperty(f)&&d.queries.push({name:f,value:"only screen and (min-width: "+c[f]+")"});this.current=this._getCurrentSize(),this._watcher()},atLeast:function(a){var b=this.get(a);return!!b&&window.matchMedia(b).matches},get:function(a){for(var b in this.queries)if(this.queries.hasOwnProperty(b)){var c=this.queries[b];if(a===c.name)return c.value}return null},_getCurrentSize:function(){for(var a,b=0;b<this.queries.length;b++){var c=this.queries[b];window.matchMedia(c.value).matches&&(a=c)}return"object"===("undefined"==typeof a?"undefined":_typeof(a))?a.name:a},_watcher:function(){var b=this;a(window).on("resize.zf.mediaquery",function(){var c=b._getCurrentSize(),d=b.current;c!==d&&(b.current=c,a(window).trigger("changed.zf.mediaquery",[c,d]))})}};Foundation.MediaQuery=c,window.matchMedia||(window.matchMedia=function(){var a=window.styleMedia||window.media;if(!a){var b=document.createElement("style"),c=document.getElementsByTagName("script")[0],d=null;b.type="text/css",b.id="matchmediajs-test",c.parentNode.insertBefore(b,c),d="getComputedStyle"in window&&window.getComputedStyle(b,null)||b.currentStyle,a={matchMedium:function(a){var c="@media "+a+"{ #matchmediajs-test { width: 1px; } }";return b.styleSheet?b.styleSheet.cssText=c:b.textContent=c,"1px"===d.width}}}return function(b){return{matches:a.matchMedium(b||"all"),media:b||"all"}}}()),Foundation.MediaQuery=c}(jQuery),!function(a){function b(a,b,c){function d(h){g||(g=window.performance.now()),f=h-g,c.apply(b),f<a?e=window.requestAnimationFrame(d,b):(window.cancelAnimationFrame(e),b.trigger("finished.zf.animate",[b]).triggerHandler("finished.zf.animate",[b]))}var e,f,g=null;e=window.requestAnimationFrame(d)}function c(b,c,f,g){function h(){b||c.hide(),i(),g&&g.apply(c)}function i(){c[0].style.transitionDuration=0,c.removeClass(j+" "+k+" "+f)}if(c=a(c).eq(0),c.length){var j=b?d[0]:d[1],k=b?e[0]:e[1];i(),c.addClass(f).css("transition","none"),requestAnimationFrame(function(){c.addClass(j),b&&c.show()}),requestAnimationFrame(function(){c[0].offsetWidth,c.css("transition","").addClass(k)}),c.one(Foundation.transitionend(c),h)}}var d=["mui-enter","mui-leave"],e=["mui-enter-active","mui-leave-active"],f={animateIn:function(a,b,d){c(!0,a,b,d)},animateOut:function(a,b,d){c(!1,a,b,d)}};Foundation.Move=b,Foundation.Motion=f}(jQuery);var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol?"symbol":typeof a};!function(a){function b(){f(),d(),e(),c()}function c(b){var c=a("[data-yeti-box]"),d=["dropdown","tooltip","reveal"];if(b&&("string"==typeof b?d.push(b):"object"===("undefined"==typeof b?"undefined":_typeof(b))&&"string"==typeof b[0]?d.concat(b):console.error("Plugin names must be strings")),c.length){var e=d.map(function(a){return"closeme.zf."+a}).join(" ");a(window).off(e).on(e,function(b,c){var d=b.namespace.split(".")[0],e=a("[data-"+d+"]").not('[data-yeti-box="'+c+'"]');e.each(function(){var b=a(this);b.triggerHandler("close.zf.trigger",[b])})})}}function d(b){var c=void 0,d=a("[data-resize]");d.length&&a(window).off("resize.zf.trigger").on("resize.zf.trigger",function(e){c&&clearTimeout(c),c=setTimeout(function(){g||d.each(function(){a(this).triggerHandler("resizeme.zf.trigger")}),d.attr("data-events","resize")},b||10)})}function e(b){var c=void 0,d=a("[data-scroll]");d.length&&a(window).off("scroll.zf.trigger").on("scroll.zf.trigger",function(e){c&&clearTimeout(c),c=setTimeout(function(){g||d.each(function(){a(this).triggerHandler("scrollme.zf.trigger")}),d.attr("data-events","scroll")},b||10)})}function f(){if(!g)return!1;var b=document.querySelectorAll("[data-resize], [data-scroll], [data-mutate]"),c=function(b){var c=a(b[0].target);switch(c.attr("data-events")){case"resize":c.triggerHandler("resizeme.zf.trigger",[c]);break;case"scroll":c.triggerHandler("scrollme.zf.trigger",[c,window.pageYOffset]);break;default:return!1}};if(b.length)for(var d=0;d<=b.length-1;d++){var e=new g(c);e.observe(b[d],{attributes:!0,childList:!1,characterData:!1,subtree:!1,attributeFilter:["data-events"]})}}var g=function(){for(var a=["WebKit","Moz","O","Ms",""],b=0;b<a.length;b++)if(a[b]+"MutationObserver"in window)return window[a[b]+"MutationObserver"];return!1}(),h=function(b,c){b.data(c).split(" ").forEach(function(d){a("#"+d)["close"===c?"trigger":"triggerHandler"](c+".zf.trigger",[b])})};a(document).on("click.zf.trigger","[data-open]",function(){h(a(this),"open")}),a(document).on("click.zf.trigger","[data-close]",function(){var b=a(this).data("close");b?h(a(this),"close"):a(this).trigger("close.zf.trigger")}),a(document).on("click.zf.trigger","[data-toggle]",function(){h(a(this),"toggle")}),a(document).on("close.zf.trigger","[data-closable]",function(b){b.stopPropagation();var c=a(this).data("closable");""!==c?Foundation.Motion.animateOut(a(this),c,function(){a(this).trigger("closed.zf")}):a(this).fadeOut().trigger("closed.zf")}),a(document).on("focus.zf.trigger blur.zf.trigger","[data-toggle-focus]",function(){var b=a(this).data("toggle-focus");a("#"+b).triggerHandler("toggle.zf.trigger",[a(this)])}),a(window).load(function(){b()}),Foundation.IHearYou=b}(jQuery);
//# sourceMappingURL=vendor.min.js.map